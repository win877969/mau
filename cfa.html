<!DOCTYPE html>
<html>
<head>
    <title>Cek Status Proxy</title>
</head>
<body>
    <table id="proxy-table">
        <thead>
            <tr>
                <th>Proxy</th>
                <th>Status</th>
            </tr>
        </thead>
        <tbody id="proxy-list"></tbody>
    </table>

    <script>
        fetch('https://bmkg.xyz/bot/proxy_list.txt')
            .then(response => response.text())
            .then(data => {
                const proxyList = data.split('\n');
                const proxyTableBody = document.getElementById('proxy-list');

                proxyList.forEach(proxy => {
                    const row = document.createElement('tr');
                    const proxyCell = document.createElement('td');
                    const statusCell = document.createElement('td');
                    const statusButton = document.createElement('button');

                    proxyCell.textContent = proxy;
                    statusButton.textContent = 'Cek Status';
                    statusButton.onclick = () => {
                        // Fungsi untuk mengecek status proxy
                        checkProxyStatus(proxy, statusButton);
                    };
                    statusCell.appendChild(statusButton);

                    row.appendChild(proxyCell);
                    row.appendChild(statusCell);
                    proxyTableBody.appendChild(row);
                });
            });

        function checkProxyStatus(proxy, button) {
            // Ganti dengan logika pengecekan status proxy yang sesuai
            // Contoh sederhana:
            button.textContent = 'Mengirim permintaan...';
            fetch('https://httpbin.org/ip', {
                proxy: `http://${proxy}`
            })
            .then(response => {
                if (response.ok) {
                    button.textContent = 'Aktif';
                } else {
                    button.textContent = 'Tidak Aktif';
                }
            })
            .catch(error => {
                button.textContent = 'Error';
            });
        }
    </script>
</body>
</html>
