<!DOCTYPE html>
<html>
<head>
  <title>Proxy Aktif</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <h1>Proxy Aktif:</h1>
  <div id="proxy-list"></div>
  <script>
    fetch("proxy_list.txt")
  .then(response => response.text())
  .then(data => {
    const proxyList = document.getElementById('proxy-list');
    const proxies = data.split("\n");
    proxies.forEach(proxy => {
      const [ip, port, negara, penyedia] = proxy.split(",");
      const proxyElement = document.createElement('div');
      proxyElement.className = 'proxy';
      proxyElement.innerHTML = `
        <span>${ip}:${port} (${negara}, ${penyedia})</span>
        <button class="button2" onclick='copyClash("trojan://24851240-c7f0-4e0a-af53-910fe6959492@tp1.bmkg.xyz:443?encryption=none&type=ws&host=tp1.bmkg.xyz&path=%2F${ip}-${port}&security=tls&sni=tp1.bmkg.xyz#${negara}+${penyedia}")'><i class="fa fa-clipboard"></i>Copy Trojan</button>
        <button class="button2" onclick='copyClash("vless://24851240-c7f0-4e0a-af53-910fe6959492@tp1.bmkg.xyz:443?encryption=none&type=ws&host=tp1.bmkg.xyz&path=%2F${ip}-${port}&security=tls&sni=tp1.bmkg.xyz#${negara}+${penyedia}")'><i class="fa fa-clipboard"></i>Copy Vless</button>
        <button class="button2" onclick='copyClash("ss://bm9uZToyNDg1MTI0MC1jN2YwLTRlMGEtYWY1My05MTBmZTY5NTk0OTI%3D@tp1.bmkg.xyz:443?encryption=none&type=ws&host=tp1.bmkg.xyz&path=%2F${ip}-${port}&security=tls&sni=tp1.bmkg.xyz#${negara}+${penyedia}")'><i class="fa fa-clipboard"></i>Copy Shawdowsock</button>
        
      proxyList.appendChild(proxyElement);
      const copyBtn = proxyElement.querySelector('.copy-vless');
      copyBtn.addEventListener('click', () => {
        navigator.clipboard.writeText(`vless://24851240-c7f0-4e0a-af53-910fe6959492@tp1.bmkg.xyz:443?encryption=none&type=ws&host=tp1.bmkg.xyz&path=%2F${ip}-${port}&security=tls&sni=tp1.bmkg.xyz#${negara}+${penyedia}
`);
        alert('COPY VLESS SUKSES!');
        
        });
    });
  })
  .catch(error => console.error("Error:", error));

    function copyToClipboard(text) {
            navigator.clipboard.writeText(text)
                .then(() => {
                    const alertBox = document.createElement('div');
                    alertBox.textContent = "Copied to clipboard!";
                    alertBox.style.position = 'fixed';
                    alertBox.style.bottom = '20px';
                    alertBox.style.right = '20px';
                    alertBox.style.backgroundColor = 'yellow';
                    alertBox.style.color = '#000';
                    alertBox.style.padding = '10px 20px';
                    alertBox.style.borderRadius = '5px';
                    alertBox.style.boxShadow = '0 4px 6px rgba(0,0,0,0.1)';
                    alertBox.style.opacity = '0';
                    alertBox.style.transition = 'opacity 0.5s ease-in-out';
                    document.body.appendChild(alertBox);
                    setTimeout(() => {
                        alertBox.style.opacity = '1';
                    }, 100);
                    setTimeout(() => {
                        alertBox.style.opacity = '0';
                        setTimeout(() => {
                            document.body.removeChild(alertBox);
                        }, 500);
                    }, 2000);
                })
                .catch((err) => {
                    console.error("Failed to copy to clipboard:", err);
                });
        }
  </script>
</body>
</html>
