<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Link Generator</title>
    <style>
        .container {
            display: flex;
            flex-direction: column;
            margin: 20px;
        }
        .row {
            display: flex;
            margin-bottom: 10px;
        }
        .row label {
            width: 100px;
        }
        .col {
            display: flex;
            flex-direction: column;
            margin-right: 15px;
        }
        .button-container {
            display: flex;
            flex-direction: column;
            width: 200px;
        }
        .col input, .col select, .button-container button {
            margin: 5px 0;
            padding: 8px;
            width: 100%;
        }
    </style>
    <script>
        function generateLinks() {
            // Ambil nilai dari select box
            var serviceType = document.getElementById("service-type").value;
            var countryCode = document.getElementById("country-code").value;
            var wildcard = document.getElementById("wildcard").value;
            var count = document.getElementById("cons").value;

            // Membuat parameter wildcard hanya jika wildcard tidak kosong
            var wildcardParam = wildcard ? `&wildcard=${wildcard}` : '';

            // Buat URL berdasarkan input
            var link1 = `https://sub1.bmkg.xyz/${serviceType}?sub1=${countryCode}&count=${count}${wildcardParam}`;
            var link2 = `https://sub1.bmkg.xyz/${serviceType}?sub2=${countryCode}&count=${count}${wildcardParam}`;

            // Tampilkan kedua link pada input box
            document.getElementById("link1").value = link1;
            document.getElementById("link2").value = link2;

            // Update form action untuk tombol copy
            document.getElementById("copyLink1").setAttribute("data-link", link1);
            document.getElementById("copyLink2").setAttribute("data-link", link2);
        }

        function copyLink(button) {
            var link = button.getAttribute("data-link");
            navigator.clipboard.writeText(link).then(function() {
                alert("Link copied to clipboard!");
            });
        }

        // Tambahkan event listener untuk setiap select box
        document.addEventListener("DOMContentLoaded", function() {
            var selects = document.querySelectorAll(".service-selector");
            selects.forEach(function(select) {
                select.addEventListener("change", generateLinks);
            });

            // Generate initial links
            generateLinks();
        });
    </script>
</head>
<body>
    <div class="container">
        <div class="row">
            <div class="col">
                <label for="service-type">TYPE</label>
                <select class="service-selector" id="service-type">
                    <option value="vless">VLESS</option>
                    <option value="trojan">TROJAN</option>
                    <option value="ss">SS</option>
                </select>
            </div>
            <div class="col">
                <label for="country-code">COUNTRY</label>
                <select class="service-selector" id="country-code">
                    <option value="RANDOM">RANDOM</option>
                    <option value="ID">Indonesia</option>
                    <option value="SG">Singapore</option>
                    <option value="US">United States</option>
                </select>
            </div>
            <div class="col">
                <label for="wildcard">WILDCARD</label>
                <select class="service-selector" id="wildcard">
                    <option value="">NO WILDCARD</option>
                    <option value="bug.com">bug.com</option>
                    <option value="ava.game.naver.com">ava.game.naver.com</option>
                    <option value="graph.instagram.com">graph.instagram.com</option>
                </select>
            </div>
            <div class="col">
                <label for="cons">COUNT</label>
                <select class="service-selector" id="cons">
                    <option value="5">5</option>
                    <option value="10">10</option>
                    <option value="25">25</option>
                    <option value="50">50</option>
                </select>
            </div>
        </div>

        <div class="row">
            <div class="col">
                <label for="link1">SUB LINK 1</label>
                <input type="text" id="link1" readonly>
                <div class="button-container">
                    <button id="copyLink1" onclick="copyLink(this)" data-link="">COPY LINK 1</button>
                </div>
            </div>
            <div class="col">
                <label for="link2">SUB LINK 2</label>
                <input type="text" id="link2" readonly>
                <div class="button-container">
                    <button id="copyLink2" onclick="copyLink(this)" data-link="">COPY LINK 2</button>
                </div>
            </div>
        </div>
    </div>
</body>
</html>
