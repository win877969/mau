<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Link Generator</title>
    <style>
        .container {
            display: flex;
            flex-direction: column;
            margin: 20px;
            width: 300px; /* Set a fixed width for better layout */
        }
        .col {
            display: flex;
            flex-direction: column;
            margin-bottom: 10px; /* Add space between the form elements */
        }
        .col label {
            margin-bottom: 5px; /* Add space between label and input/select */
        }
        .col input, .col select, .button-container button {
            padding: 8px;
            width: 100%; /* Make input/select and buttons take up full width */
        }
        .button-container {
            display: flex;
            flex-direction: column;
        }
    </style>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script>
        function generateLinks() {
            // Ambil nilai dari select box
            var serviceType = document.getElementById("service-type").value;
            var countryCode = document.getElementById("country-code").value;
            var wildcard = document.getElementById("wildcard").value;
            var count = document.getElementById("cons").value;

            // Membuat parameter wildcard hanya jika wildcard tidak kosong
            var wildcardParam = wildcard ? `&wildcard=${wildcard}` : '';

            // Buat URL berdasarkan input
            var link1 = `https://sub1.bmkg.xyz/${serviceType}?sub1=${countryCode}&count=${count}${wildcardParam}`;
            var link2 = `https://sub1.bmkg.xyz/${serviceType}?sub2=${countryCode}&count=${count}${wildcardParam}`;

            // Tampilkan kedua link pada input box
            document.getElementById("link1").value = link1;
            document.getElementById("link2").value = link2;

            // Update form action untuk tombol copy
            document.getElementById("copyLink1").setAttribute("data-link", link1);
            document.getElementById("copyLink2").setAttribute("data-link", link2);
        }

        function copyLink(button) {
            // Ambil link dari atribut data-link tombol
            const link = button.getAttribute('data-link');

            // Salin teks ke clipboard
            navigator.clipboard.writeText(link).then(() => {
              // Tampilkan pesan popup yang menarik menggunakan Swal
              Swal.fire({
                title: 'Berhasil!',
                text: 'Link Sub telah berhasil disalin',
                background: 'rgba(6, 18, 67, 0.89)', // Warna latar belakang (biru pucat)
                icon: 'success',
                color: 'red', // Warna teks
                customClass: {
                  popup: 'rounded-popup',
                },
                confirmButtonColor: '#3085d6' // Warna tombol konfirmasi
              });
            }).catch((err) => {
              // Tangani jika ada kesalahan saat menyalin
              Swal.fire({
                title: 'Gagal!',
                text: 'Terjadi kesalahan saat menyalin link.',
                icon: 'error',
                background: 'rgba(6, 18, 67, 0.89)', // Warna latar belakang (merah tua transparan)
                color: 'red', // Warna teks
                confirmButtonColor: '#d33' // Warna tombol konfirmasi
              });
            });
        }

        // Tambahkan event listener untuk setiap select box
        document.addEventListener("DOMContentLoaded", function() {
            var selects = document.querySelectorAll(".service-selector");
            selects.forEach(function(select) {
                select.addEventListener("change", generateLinks);
            });

            // Generate initial links
            generateLinks();
        });
    </script>
</head>
<body>
    <div class="container">
        <!-- Service Type -->
        <div class="col">
            <label for="service-type">TYPE</label>
            <select class="service-selector" id="service-type">
                <option value="vless">VLESS</option>
                <option value="trojan">TROJAN</option>
                <option value="ss">SS</option>
            </select>
        </div>

        <!-- Country Code -->
        <div class="col">
            <label for="country-code">COUNTRY</label>
            <select class="service-selector" id="country-code">
                <option value="RANDOM">RANDOM</option>
                <option value="ID">Indonesia</option>
                <option value="SG">Singapore</option>
                <option value="US">United States</option>
            </select>
        </div>

        <!-- Wildcard -->
        <div class="col">
            <label for="wildcard">WILDCARD</label>
            <select class="service-selector" id="wildcard">
                <option value="">NO WILDCARD</option>
                <option value="bug.com">bug.com</option>
                <option value="ava.game.naver.com">ava.game.naver.com</option>
                <option value="graph.instagram.com">graph.instagram.com</option>
            </select>
        </div>

        <!-- Count -->
        <div class="col">
            <label for="cons">COUNT</label>
            <select class="service-selector" id="cons">
                <option value="5">5</option>
                <option value="10">10</option>
                <option value="25">25</option>
                <option value="50">50</option>
            </select>
        </div>

        <!-- Links and Copy Buttons -->
        <div class="col">
            <label for="link1">SUB LINK 1</label>
            <input type="text" id="link1" readonly>
            <div class="button-container">
                <button id="copyLink1" onclick="copyLink(this)" data-link="">COPY LINK 1</button>
            </div>
        </div>

        <div class="col">
            <label for="link2">SUB LINK 2</label>
            <input type="text" id="link2" readonly>
            <div class="button-container">
                <button id="copyLink2" onclick="copyLink(this)" data-link="">COPY LINK 2</button>
            </div>
        </div>
    </div>
</body>
</html>
